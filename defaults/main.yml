---
# RHEL/CentOS only. Set a repository to use for bind installation.
bind_enablerepo: ""

# Set bind state when configuration changes are made. Recommended values:
# `restarted` or `reloaded`
bind_restarted_state: "restarted"

bind_service_state: started
bind_service_enabled: true

bind_local_file: "named.conf.local"

# Global configuration options that will be set in named.conf.
# Please note each value ends with ;
bind_main_config_settings:
  - option: acl "trusted"
    value: '{ 10.0.1.1; 10.0.1.2; };'
  - option: include
    value: '"{{ bind_local_config_path }}/{{ bind_local_file }}";'

bind_main_options_settings:
  - option: listen-on port
    value: '53 { 127.0.0.1; 10.0.1.1; };'
  - option: allow-query
    value: '{ trusted; };'
  - option: forwarders
    value: '{ 8.8.8.8; 8.8.4.4; };'
  - option: listen-on-v6
    value: '{ any; };'
  - option: dnssec-validation
    value: 'auto;'

bind_zones_entries:
  - {name: "example.com", type: "master", file: "example.com.zone", template: zone.fwd.j2}
  - {name: "1.0.10.in-addr.arpa", type: "master", file: "example.com.rr.zone", template: zone.rev.j2}
